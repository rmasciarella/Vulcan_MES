# =============================================================================
# VULCAN MES ENVIRONMENT CONFIGURATION
# =============================================================================
# 
# This is a consolidated example environment file for the Vulcan MES monorepo.
# Copy this to .env and customize the values for your deployment.
#
# For organized configuration, see the specific example files:
# - .env.shared.example   (Variables shared between backend and frontend)
# - .env.backend.example  (Backend-specific variables)
# - .env.frontend.example (Frontend-specific variables)
#
# You can use any combination of these approaches:
# 1. Single .env file with all variables (this file)
# 2. Multiple specialized .env files
# 3. Mix of both approaches
# =============================================================================

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/vulcan
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=vulcan

# Redis Cache
REDIS_URL=redis://localhost:6379

# Supabase Configuration (modern naming)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SECRET=your-secret-key  # server-only

# Backend Configuration
SECRET_KEY=changeme-use-a-secure-key-in-production
BACKEND_CORS_ORIGINS=["http://localhost:3000"]
FIRST_SUPERUSER=admin@vulcan.com
FIRST_SUPERUSER_PASSWORD=changeme

# Frontend Configuration (Public - Safe for Browser)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-publishable-key  # browser-safe

# Frontend Application Settings
NEXT_PUBLIC_APP_NAME=Vulcan MES
NEXT_PUBLIC_APP_ENV=development

# Frontend Development Features (WARNING: Set to false in production)
NEXT_PUBLIC_ENABLE_DEBUG_UI=false
NEXT_PUBLIC_ENABLE_MOCK_DATA=false

# Frontend Health Check Configuration (Use sparingly in production)
NEXT_PUBLIC_ENABLE_DB_HEALTH_CHECK=false
NEXT_PUBLIC_DB_HEALTH_CHECK_INTERVAL_MS=300000      # 5 minutes
NEXT_PUBLIC_DB_HEALTH_CHECK_MAX_INTERVAL_MS=3600000 # 1 hour max backoff

# Authentication
JWT_SECRET_KEY=changeme-use-a-secure-key-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Environment Configuration
NODE_ENV=development      # Next.js environment (development, test, production)
PYTHON_ENV=development    # FastAPI environment (development, test, production)

# =============================================================================
# BACKEND-SPECIFIC VARIABLES (see .env.backend.example for full list)
# =============================================================================

# Email Configuration (Backend Only)
SMTP_TLS=true
SMTP_PORT=587
SMTP_HOST=smtp.gmail.com
SMTP_USER=admin@vulcan.com
SMTP_PASSWORD=your-smtp-password
EMAILS_FROM_EMAIL=admin@vulcan.com
EMAILS_FROM_NAME=Vulcan MES

# Backend Performance & Monitoring
SENTRY_DSN=your-sentry-dsn
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
API_RATE_LIMIT_PER_MINUTE=1000

# Solver Configuration (Backend Only)
SOLVER_TIMEOUT_SECONDS=300
MAX_CONCURRENT_SOLVERS=4

# Data Retention (Backend Only)
AUDIT_LOG_RETENTION_DAYS=2555
DATA_BACKUP_RETENTION_DAYS=90

# =============================================================================
# DEPLOYMENT ENVIRONMENT EXAMPLES
# =============================================================================

# DEVELOPMENT:
# - Use localhost for database and Redis
# - Enable debug features and verbose logging
# - Use test email services and short retention periods
# - Enable health checks with frequent intervals

# STAGING:
# - Use staging database and Redis instances
# - Enable monitoring with moderate limits
# - Test production-like configuration
# - Balanced health check intervals

# PRODUCTION:
# - Use production database with SSL and connection pooling
# - Enable all monitoring and security features
# - Use secure, rotated secrets and appropriate timeouts
# - Conservative health check intervals or disabled for performance

# =============================================================================
# SECURITY CHECKLIST FOR PRODUCTION
# =============================================================================

# ✅ Change all default passwords and keys (SECRET_KEY, JWT_SECRET_KEY, etc.)
# ✅ Use environment-specific database and Supabase projects
# ✅ Set NEXT_PUBLIC_ENABLE_DEBUG_UI=false
# ✅ Set NEXT_PUBLIC_ENABLE_MOCK_DATA=false
# ✅ Set NEXT_PUBLIC_APP_ENV=production
# ✅ Use HTTPS URLs for all external services
# ✅ Regularly rotate Supabase keys and JWT secrets
# ✅ Monitor database connections and Redis usage
# ✅ Review rate limits and solver timeouts for production workloads
